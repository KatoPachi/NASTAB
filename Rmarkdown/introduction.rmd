```{r eval = FALSE}
# if you want to preview this file,
# 1. specify doctype: "draft" or "slide"
# 2. replace knitr format = "html"
library(here); knitr::opts_knit$set(root.dir = here())
doctype <- "draft"
options(knitr.kable.NA = " ", knitr.table.format = "html")
knitr::opts_chunk$set(
  message = FALSE,
  warning = FALSE,
  echo = FALSE,
  cache = FALSE,
  include = TRUE
)
```

```{asis, echo = doctype == "slide"}
## Introduction

- In many countries, tax incentives on chariable giving are implemented
- Many papers investigate elasticities of the tax incentive based on tax return data (e.g. @Almunia2020; @Auten2002; @Bakija2011)
- However, the tax return data record only the declared charitable giving
  - Tax payers decide an amount of donation and whether to declare tax relief based on the size of tax incentive and declration cost.
  - Because of this declration cost, the estimations (especially for extensive margins) may be biased.
  - Moreover, actual donations is different from declared donations (Fack and Landais (2016); Gillitzer and Skov (2018))
- We investigate the elasticities about both declared and non-declared charitable giving, using the financial panel survey data in South Korea

## Introduction

To take price variation due to declaration into account, we estimate two price elasticities:

- *Applicable* price elasticity: giving price when tax payers declare tax relief regardless of actual declaration
  - The major variation of this giving price comes from the 2014 tax reform
- *Effective* price elasticity: giving price based on information of declaration
  - We estimate this considering the existence of the declaration cost
- By comparing two price elasticities, we can infer price effect through declration

Result: \textcolor{red}{Both price elasticities are around -1, which implies that the price effect through declaration is not so large.}
```

```{asis, echo = doctype == "draft"}
# Introduction

In many countries, governments set a tax relief for charitable giving. This is because, if subsidizing charitable giving induces a large increase in donations, it is desirable for public good provision. As @Saez2004 shows, it is known that the price elasticity of charitable donations is a key parameter to evaluate the welfare implication. To evaluate the effect of tax relief, many empirical papers investigate the elasticity of charitable donations with respect to their tax price and find that the price elasticity is around -1 in terms of intensive margin, using the data from tax record [@Randolph1995; @Auten2002; @Fack2010; @Bakija2011; @Almunia2020].

However, there are two issues of the estimation as for the declaration of tax and charitable giving.
First issue is about the sample selection. Most of the analysis based on tax record only captures the effect for tax filers, while charitable donation may also be conducted by those who do not declare their tax. Thus, as some papers such as @Rehavi2013 and @Backus2019 point out, the estimation based on the tax return data will contain the sample selection bias.

Second issue is that the declaration for charitable giving (not the declaration of tax) is endogenous to the price of charitable giving. This is because the declaration for charitable giving is required to apply for the tax relief on charitable giving, and the effect of giving price on the amount of giving may represent the difference of declaration costs for charitable giving. Since this issue does not resolved even if the data of non tax filers are available, few studies take this issue into account on the estimation\footnote{Almunia et al.(2020) considers the existence of declaration cost by using structual estimation, but they use tax return data, the usage of which will cause the sample selection bias.}.

Considering these issues, this paper investigates the price elasticity of giving. To derive the elasticity, this paper utilizes the South Korean (Korea hereafter) tax reform in 2014, from when the tax relief on charitable giving was conducted by tax credit, though tax deduction had been used before 2014.
The Korean tax reform in 2014 started to allow 15\% of the total amount of charitable giving as a tax credit for all taxpayers, which means that the giving price for 1 KRW donation is 0.85 KRW.\footnote{1 KRW is approximately 0.001 USD. In other words, 1 USD is about 1,000 KRW.} Since the giving price was determined according to the marginal tax rate of progressive income tax before 2014, this tax reform reduced the giving price for low income taxpayers while it increased the price for high income tax payers. Since the variation of giving price can be considered to be exogenous for taxpayers, we exploit this reform and conduct the difference-in-difference (DID) analysis for identification. 

This paper contributes the literature about the charitable giving tax system for the following points. Firstly, to overcome the issue of tax declaration, this paper use the Korean survey panel data called the National Survey of Tax and Benefit (NaSTaB). Since NaSTaB data contains the data of charitable giving irrespective of declarations, the estimation should be free from the sample selection bias. Moreover, by using the survey data, we could consider the sample of low-income household, since the main part of tax return data is the data about wealthy people. This is particularly important for the estimation of the price elasticity in terms of the extensive margin since the propensity of donation by low-income households would be be less than high-income households.

Secondly, for the issue of charitable giving declaration, we focus on the fact that wage earners can easily declare tax relief in their company while self-employed workers have to declare tax relief via tax agency in Korea. By utilizing this difference of declaration costs between wage earners and self-employed workers as an instrument variable (IV), we estimate the price elasticity eliminating endogeneity between declaration for charitable giving and price of charitable giving. 

Thirdly, this paper examines the giving price elasticity in a non-Western country, where few papers deal with. While the giving behavior may be affected by the cultural matter such as the religious belief, the estimated price elasticity in this paper is in line with the result of the extant papers.

In addition, our paper considers several endogeneity issues which have been pointed out in the literature. As a result, we find that the estimated giving price elasticity is about -1.4 in terms of intensive margins and less than -1.8 in terms of extensive margins. Since these estimates are much less than the estimates of extant research, this implies that the consideration of declaration cost may make a difference.

This paper consistsof six sections. Section 2 and 3 respectively explain the institutional background and data. Section 4 explains the estimation method. Section 5 deals with the analysis of price elasticity. Section 6 concludes.
```

```{asis, echo = doctype == "slide"}
## 2014 tax reform in South Korea

Our major price variation comes from the 2014 tax reform, which has changed from the tax deduction system to the tax credit system

- Consider allocation problem b/w private consumption ($x_{it}$) and giving ($g_{it}$). 
- The budget constraint is $x_{it} + g_{it} = y_{it} - T(y_{it}, g_{it})$ where $y_{it}$ is pre-tax total income, and $T(y_{it}, g_{it})$ is tax amount.
- Let $R_{it}$ be a dummy of declaration of tax relief, and let $\tau(\cdot)$ be the income tax rate.

## 2014 tax reform in South Korea (Cont'd)

**Tax deduction system (until 2013)** 

$$T(y_{it}, g_{it}) = \tau(y_{it} - R_{it} g_{it}) (y_{it} - R_{it} g_{it})$$

- In 2012 and 2013, the system of $\tau(\cdot)$ is same.
- The logged relative giving price is $R_{it} \ln(1 - \tau(y_{it} - g_{it})) = R_{it} \ln p^d_{it}$.

**Tax credit system (from 2014)**

$$T(y_{it}, g_{it}) = \tau(y_{it}) \cdot y_{it} - R_{it} m g_{it}$$

- $m = 0.15$
- The logged relative giving price is $R_{it} \ln(1 - 0.15) = R_{it} \ln 0.85$.
```

```{asis, echo = doctype == "draft"}
# Institutional background and Sources of endogeneity

In this section, we describe the endogeneity issue and the income tax relief for charitable giving in Korea and used dataset.

## Declaration of tax relief and giving price

In the South Korea, the tax policy about charitable giving drastically changed in 2014. Before then, tax relief of charitable giving was provided by tax deduction while, from 2014, tax relief by tax credit was introduced instead of tax deduction. 

Consider that a household has a choice between private consumption ($x_i$) and charitable giving ($g_i$). Let $y_i$ be pre-tax total income.
Then, the budget constraint can be shown as
\begin{align}
    x_i + g_i = y_i âˆ’ R_iK - R_iT(y_i, g_i) - (1-R_i)T(y_i)\notag.
\end{align}
$T$ is tax amount which depends on the pre-tax income and charitable giving.
$R_i$ is the dummy which takes 1 if $i$ declares the tax relief and 0 otherwise. $K$ is a cost for the declaration of charitable giving, which may not be monetary cost but is converted to pecuniary terms. 

Tax payers declare their charitable giving if its benefit exceeds its cost, which means
\begin{align}
R_i=\begin{cases}
1 \text{ if }T(y_i, g_i) - T(y_i)>K\\
0 \text{ if }T(y_i, g_i) - T(y_i)\le K.\label{R}
\end{cases}
\end{align}

This means that the decision of declaration depends on $y_i$, $g_i$ and $K$.

Under the tax deduction, the amount of tax is
\begin{align}
    T(y_i, g_i) = T(y_i-g_i),\text{ where }T_i'(\cdot)>0, T_i''(\cdot)>0
\end{align}
while the amount of tax under the tax credit system is
\begin{align}
  T(y_i,g_i)=T(y_i)-mg_i,\text{ where }T_i'(\cdot)>0, T_i''(\cdot)>0.
\end{align}

Using the total differentiation of the budget constraint by $x_i$ and $g_i$ (i.e. $dx_i=(1-R_iT_g(y_i,g_i))dg_i$), the marginal giving price compared to private consumption is $1-R_iT'(y_i-g_i)$ in the tax deduction regime and is $1-R_im$ in the tax credit regime. Hereafter, we use $p$ and $q$ to show the giving price compared to private consumption and the amount of tax relief for each charitable giving, respectively (i.e. $p=1-R_iq$ and $q=T_g(y_i, g_i)$.). The government can change $q$ in the tax reform as the next subsection explains.


```

```{r tabTaxRate, include=TRUE, eval = doctype == "draft"}
tab <- data.frame(
    inc = c(
        "(A) ~ 1200", "(B) 1200 ~ 4600", "(C) 4600 ~ 8800", "(D) 8800 ~ 15000",
        "(E) 15000 ~ 30000", "(F) 30000 ~ 50000", "(G) 50000 ~"),
    Y08 = c("8%", "17%", "26%", rep("35%", 4)),
    Y09 = c("6%", "16%", "25%", rep("35%", 4)),
    Y1011 = c("6%", "15%", "24%", rep("35%", 4)),
    Y1213 = c("6%", "15%", "24%", rep("35%", 2), rep("38%", 2)),
    Y1416 = c("6%", "15%", "24%", "35%", rep("38%", 3)),
    Y17 = c("6%", "15%", "24%", rep("35%", 2), "38%", "40%"),
    Y18 = c("6%", "15%", "24%", "35%", "38%", "40%", "42%")
)

knitr::kable(
    tab,
    caption = "Marginal Income Tax Rate",
    col.names = c(
      "Income/Year", "2008", "2009", "2010 ~ 2011",
      "2012 ~ 2013", "2014 ~ 2016", "2017", "2018"
    ),
    row.names = FALSE,
    align = "lccccccc",
    booktabs = TRUE, escape = TRUE, linesep = ""
) %>%
kable_styling(font_size = 9) %>%
collapse_rows(columns = 2:8, valign = "middle", latex_hline = "full") %>%
footnote(general_title = "", general = "Notes: Marginal income tax rates applied from 2008 to 2018 are summarized. The income level is shown in terms of 10,000 KRW, which is approximately 10 United States dollars (USD) at an exchange rate of 1,000 KRW to one USD.", threeparttable = TRUE, escape = FALSE)
```

```{asis, echo = doctype == "draft"}
## Korean tax reform in 2014

Korean tax system offers a tax relief for charitable giving in income tax. All tax payers have to declare their donation and submit the certificate of charitable giving to receive tax relief, while the taxation method and the way of tax declaration are different for wage earners and self-employed workers. Wage earners pay income tax by withholding tax and declare tax relief for charitable giving via their company. Self-employed workers pay income tax by tax-return and declare tax relief when they submit tax return to the National Tax Service. Therefore, there is a difference of declaration cost of tax relief since self-employed workers have to retain the certificate until they submit tax return although wage earners can submit the certificate at any time.   

In 2014, aiming at the relaxation of regressivity of giving price, the Korean government reformed tax system, where the tax credit was introduced instead of tax deduction. Since then, 15\% of the total amount of charitable giving has been allowed as a tax credit, which means that the giving price from 2014 is 0.85 KRW for each 1 KRW of donation irrelevant to the income level.

Summarizing this, compared to tax credit system, the high income household, whose (average) income tax rate is more than 15\%, get benefit from charitable giving under the tax deduction system. However, middle or low income households would enjoy tax relief in tax credit system more than tax deduction system. We exploit this policy change as an identification strategy.

```


```{asis, echo = doctype == "draft"}
## Source of endogeneity

In the literature of giving tax relief, many papers care various issues on the estimation. Most of papers care the endogeneity issues which happens to the tax deduction system. For example, most of them utilize the marginal tax rate when the first dollar of charitable giving is conducted, called "first giving price", to deal with the endogenous giving price.

However, compared to the issues about the tax system, the treatment for the other issues varies in each paper. In particular, many paper do not consider the existence of declaration cost of charitable giving.

From (\ref{R}), we can see that the giving price does not changed by tax relief without the declaration for charitable giving (i.e. $\partial g/\partial q=0$ for non-declared charitable giving.). Therefore, we have to distinguish between declared and non-declared charitable giving\footnote{Note that this is impossible when tax return data is used since it only records declared charitable giving.}.

In addition, considering that those who face lower declaration cost are likely to declare their giving and enjoy tax relief, the difference of giving behavior may come not from the difference of the amount of tax relief $q$, which is the main identification source, but from the difference of declaration cost $K_i$, via $R_i$.
This problem is not resolved even if survey data is used instead of tax return data\footnote{This is because the usage of survey data does not mean that it considers the existence of the declaration cost of each observation.}. 

The usage of tax return data will amplify this problem. If charitable giving is declared, the marginal income tax rate is $T'(y_i-g_i)$ under the tax deduction system and $T'(y_i)$ under the tax credit system, while, if charitable giving is not declared, the marginal income tax rate is $T'(y_i)$ under the both system. Therefore, for given $g_i$, the difference of the marginal income tax rate between whether the declared or not is
\begin{align}
T'(y_i)-T_y(y_i,g_i)=\begin{cases}
	T'(y_i)-T'(y_i-g_i)\ge0 &\text{ if tax deduction}.\\
	mg_i>0 &\text{ if tax credit}.
\end{cases}
\end{align}

Considering $T''(\cdot)>0$, this implies that, when the higher marginal tax rate is applied (i.e. the higher $y_i$ is), the declaration of tax relief mitigate tax payment and $R_i=1$ is likely to be hold for given $x_i$ and $g_i$ under the tax deduction system. Thus, the high income earners tend to declare charitable giving. Since the tax return data tend to represent the data of high income earners, the issue of declaration may be serious. Moreover, because the tax return data does not contain the information of non-declared charitable giving, the estimated elasticity should be different from the population elasticity, which @Saez2004 shows as a key parameter to obtain implications for welfare.

To overcome the issue about the existence of declaration cost, we use the different declaration cost for charitable giving between self-employed workers and wage earners as an identification source. Since the declaration cost for the self-employed is higher than wage earners in Korea, we use it as an IV in the estimation. 
```